{"ast":null,"code":"import _classCallCheck from\"/home/ankit/Projects/ReactJS/react_website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ankit/Projects/ReactJS/react_website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/ankit/Projects/ReactJS/react_website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/ankit/Projects/ReactJS/react_website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/ankit/Projects/ReactJS/react_website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';// import {ReactTable} from \"react-table\";\nimport Axios from'axios';var api_url=\"https://gorest.co.in/public-api/\";var authBearer=\"Bearer 133acc5970437f9b6f89cd03b05cddfec5c719201c3614d682b24b7dcb6c9a19\";var Categories=/*#__PURE__*/function(_React$Component){_inherits(Categories,_React$Component);var _super=_createSuper(Categories);function Categories(props){var _this;_classCallCheck(this,Categories);_this=_super.call(this,props);_this.state={data:[],columns:[],message:'Loading...',formdata:{name:'',description:''},editid:0,addupdatebtnname:'ADD'};_this.fillDataFromAPI=_this.fillDataFromAPI.bind(_assertThisInitialized(_this));_this.renderTableData=_this.renderTableData.bind(_assertThisInitialized(_this));_this.deleteCategory=_this.deleteCategory.bind(_assertThisInitialized(_this));_this.addCategory=_this.addCategory.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.editCategory=_this.editCategory.bind(_assertThisInitialized(_this));_this.cancelCategory=_this.cancelCategory.bind(_assertThisInitialized(_this));_this.fillDataFromAPI();return _this;}_createClass(Categories,[{key:\"fillDataFromAPI\",value:function fillDataFromAPI(){var classState=this;Axios.get(api_url+\"categories\").then(function(res){debugger;if(res.status===200){classState.setState({data:res.data.data});}}).catch(function(res){console.log(res);});}},{key:\"deleteCategory\",value:function deleteCategory(e){debugger;var classState=this;var delteId=e.target.getAttribute(\"deleteid\");Axios.delete(api_url+\"categories/\"+delteId,{headers:{'Authorization':authBearer}}).then(function(res){debugger;if(res.data.code===204){alert(\"Deleted Successfully.\");classState.fillDataFromAPI();}else{alert(res.data.data.message);}}).catch(function(res){debugger;console.log(res);});}},{key:\"renderTableData\",value:function renderTableData(){var _this2=this;var data=/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Loading...\"));if(this.state.data.length>0){data=\"\";}data=this.state.data.map(function(cat,index){var id=cat.id,name=cat.name,description=cat.description,status=cat.status;//destructuring\nreturn/*#__PURE__*/React.createElement(\"tr\",{key:id},/*#__PURE__*/React.createElement(\"td\",null,id),/*#__PURE__*/React.createElement(\"td\",null,name),/*#__PURE__*/React.createElement(\"td\",null,description),/*#__PURE__*/React.createElement(\"td\",null,status?\"Active\":\"Deactive\"),/*#__PURE__*/React.createElement(\"td\",{className:\"categoty-action-link\"},/*#__PURE__*/React.createElement(\"span\",{deleteid:id,onClick:_this2.deleteCategory},\"DELETE\"),\"\\xA0\\xA0-\\xA0\\xA0\",/*#__PURE__*/React.createElement(\"span\",{name:name,des:description,editid:id,onClick:_this2.editCategory},\"EDIT\")));});return data;}},{key:\"addCategory\",value:function addCategory(){debugger;var classState=this;var call=null;if(classState.state.editid){call=Axios.put(api_url+\"categories/\"+classState.state.editid,{\"name\":classState.state.formdata.name,\"description\":classState.state.formdata.description,\"status\":true},{headers:{'Authorization':authBearer}});}else{call=Axios.post(api_url+\"categories\",{\"name\":classState.state.formdata.name,\"description\":classState.state.formdata.description,\"status\":true},{headers:{'Authorization':authBearer}});}if(call){call.then(function(res){debugger;if(res.data.code===201){classState.fillDataFromAPI();alert(\"'\"+res.data.data.name+\"' Category Added Successfully.\");}else if(res.data.code===422){alert(res.data.data[0].field+\" \"+res.data.data[0].message);}else if(res.data.code===200){classState.fillDataFromAPI();classState.cancelCategory();alert(\"Updated Successfully.\");}}).catch(function(res){debugger;console.log(res);});}}},{key:\"handleChange\",value:function handleChange(e){var name=e.target.name;var value=e.target.value;var oldval=this.state.formdata;oldval[name]=value;this.setState({formdata:oldval});}},{key:\"editCategory\",value:function editCategory(e){debugger;var name=e.target.getAttribute(\"name\");var desc=e.target.getAttribute(\"des\");var editId=e.target.getAttribute(\"editid\");this.setState({editid:editId});this.setState({formdata:{name:name,description:desc}});this.setState({addupdatebtnname:'UPDATE'});}},{key:\"cancelCategory\",value:function cancelCategory(e){this.setState({editid:0});this.setState({formdata:{name:'',description:''}});this.setState({addupdatebtnname:'ADD'});}},{key:\"render\",value:function render(){var tableHeader=/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"ID\"),/*#__PURE__*/React.createElement(\"th\",null,\"NAME\"),/*#__PURE__*/React.createElement(\"th\",null,\"DESCRIPTION\"),/*#__PURE__*/React.createElement(\"th\",null,\"STATUS\"),/*#__PURE__*/React.createElement(\"th\",null,\"ACTION\"));return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",{onClick:this.test},\"Categories\"),/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"input\",{value:this.state.formdata.name,type:\"tetx\",placeholder:\"Category Name\",name:\"name\",onChange:this.handleChange}),\"\\xA0\",/*#__PURE__*/React.createElement(\"input\",{value:this.state.formdata.description,style:{width:'700px'},type:\"tetx\",placeholder:\"Category Description\",name:\"description\",onChange:this.handleChange}),\"\\xA0\",/*#__PURE__*/React.createElement(\"span\",{onClick:this.addCategory,className:\"categoty-action-link\"},this.state.addupdatebtnname),\"\\xA0 - \\xA0\",/*#__PURE__*/React.createElement(\"span\",{onClick:this.cancelCategory,className:\"categoty-action-link\"},\"CANCEL\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"table\",{border:\"1\",id:\"cat\"},/*#__PURE__*/React.createElement(\"tbody\",null,tableHeader,this.renderTableData())));}}]);return Categories;}(React.Component);// export default Categories;\nexport{Categories as default};","map":{"version":3,"sources":["/home/ankit/Projects/ReactJS/react_website/src/Categories.jsx"],"names":["React","Axios","api_url","authBearer","Categories","props","state","data","columns","message","formdata","name","description","editid","addupdatebtnname","fillDataFromAPI","bind","renderTableData","deleteCategory","addCategory","handleChange","editCategory","cancelCategory","classState","get","then","res","status","setState","catch","console","log","e","delteId","target","getAttribute","delete","headers","code","alert","length","map","cat","index","id","call","put","post","field","value","oldval","desc","editId","tableHeader","test","width","Component"],"mappings":"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","sourcesContent":["import React from 'react';\n// import {ReactTable} from \"react-table\";\nimport Axios from 'axios';\nconst api_url = \"https://gorest.co.in/public-api/\";\nconst authBearer = \"Bearer 133acc5970437f9b6f89cd03b05cddfec5c719201c3614d682b24b7dcb6c9a19\";\n\nexport default class Categories extends React.Component{\n\n    constructor(props){\n        super(props);\n        this.state = {\n            data : [],\n            columns : [],\n            message : 'Loading...',\n            formdata : {\n                name : '',\n                description : ''\n            },\n            editid : 0,\n            addupdatebtnname : 'ADD'\n        };\n\n        this.fillDataFromAPI = this.fillDataFromAPI.bind(this);\n        this.renderTableData = this.renderTableData.bind(this);\n        this.deleteCategory = this.deleteCategory.bind(this);\n        this.addCategory = this.addCategory.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.editCategory = this.editCategory.bind(this);\n        this.cancelCategory = this.cancelCategory.bind(this);\n\n        this.fillDataFromAPI();\n    };\n\n    fillDataFromAPI(){\n        var classState = this;\n        Axios.get(api_url+\"categories\")\n        .then(function(res){\n            debugger;\n            if(res.status===200){\n                classState.setState({data : res.data.data});\n            }\n        })\n        .catch(function(res){\n            console.log(res);\n        });\n    }\n\n    deleteCategory(e){\n        debugger;\n        const classState = this;\n        const delteId = e.target.getAttribute(\"deleteid\");\n        Axios.delete(api_url+\"categories/\"+delteId,{\n            headers: {\n                'Authorization': authBearer\n            }\n        })\n        .then(function(res){\n            debugger;\n            if(res.data.code===204){\n                alert(\"Deleted Successfully.\");\n                classState.fillDataFromAPI();            \n            }else{\n                alert(res.data.data.message);\n            }\n        })\n        .catch(function(res){\n            debugger;\n            console.log(res);\n        });\n    };\n\n    renderTableData(){\n        let data = (<tr>\n                        <td>Loading...</td>\n                    </tr>);\n        if(this.state.data.length > 0){\n            data = \"\";\n        }            \n        data = this.state.data.map((cat, index) => {\n            const { id, name, description, status} = cat //destructuring\n            return (\n               <tr key={id}>\n                  <td>{id}</td>\n                  <td>{name}</td>\n                  <td>{description}</td>\n                  <td>{status ? \"Active\" : \"Deactive\"}</td>\n                  <td className=\"categoty-action-link\">\n                      <span deleteid={id} onClick={this.deleteCategory}>DELETE</span>\n                      &nbsp;&nbsp;-&nbsp;&nbsp;\n                      <span \n                      name={name}\n                      des={description}\n                      editid={id}\n                      onClick={this.editCategory}>\n                          EDIT\n                        </span>\n                    </td>\n               </tr>\n            )\n         });\n\n        return data;\n    }\n\n    addCategory(){\n        debugger;\n        const classState = this;\n        let call = null;\n        if(classState.state.editid){\n            call = Axios.put(api_url+\"categories/\"+classState.state.editid,{\n                \"name\": classState.state.formdata.name,\n                \"description\": classState.state.formdata.description,\n                \"status\" : true\n            },{\n                headers: {\n                    'Authorization': authBearer\n                }\n            });\n        }else{\n            call = Axios.post(api_url+\"categories\",{\n                \"name\": classState.state.formdata.name,\n                \"description\": classState.state.formdata.description,\n                \"status\" : true\n            },{\n                headers: {\n                    'Authorization': authBearer\n                }\n            });\n        }\n\n        if(call){\n            call.then(function(res){\n                debugger;\n                if(res.data.code === 201){\n                    classState.fillDataFromAPI();\n                    alert(\"'\"+res.data.data.name+\"' Category Added Successfully.\");\n                }else if(res.data.code === 422){\n                    alert(res.data.data[0].field+\" \"+res.data.data[0].message);\n                }else if (res.data.code===200){\n                    classState.fillDataFromAPI();\n                    classState.cancelCategory();\n                    alert(\"Updated Successfully.\");\n                }\n            }).catch(function(res){\n                debugger;\n                console.log(res);\n            });\n        }\n    }\n\n    handleChange(e){\n        const name = e.target.name;\n        const value = e.target.value;\n        let oldval = this.state.formdata;\n        oldval[name] = value;\n        this.setState({formdata : oldval});\n    }\n\n    editCategory(e){\n        debugger;\n        const name = e.target.getAttribute(\"name\");\n        const desc = e.target.getAttribute(\"des\");\n        const editId = e.target.getAttribute(\"editid\");\n        this.setState({editid : editId});\n        this.setState({formdata : {\n            name : name,\n            description : desc\n        }});\n        this.setState({addupdatebtnname : 'UPDATE'});\n    }\n\n    cancelCategory(e){\n        this.setState({editid : 0});\n        this.setState({formdata : {\n            name : '',\n            description : ''\n        }});\n        this.setState({addupdatebtnname : 'ADD'});\n    }\n\n    render(){\n        \n        const tableHeader = (<tr>\n            <th>ID</th>\n            <th>NAME</th>\n            <th>DESCRIPTION</th>\n            <th>STATUS</th>\n            <th>ACTION</th>\n        </tr>);\n        \n        \n          \n        return(\n            <div>\n                <h1 onClick={this.test}>Categories</h1>\n                <form>\n                    <input \n                    value={this.state.formdata.name}\n                    type=\"tetx\" placeholder=\"Category Name\"\n                    name=\"name\" onChange={this.handleChange} />\n                    &nbsp;\n                    <input \n                    value={this.state.formdata.description}\n                    style={{width: '700px'}} type=\"tetx\" placeholder=\"Category Description\" \n                    name=\"description\" onChange={this.handleChange} />\n                    &nbsp;\n                    <span onClick={this.addCategory} className=\"categoty-action-link\">{this.state.addupdatebtnname}</span>\n                    &nbsp; - &nbsp;\n                    <span onClick={this.cancelCategory} className=\"categoty-action-link\">CANCEL</span>\n                </form>\n                <br/>\n                <table border=\"1\" id='cat'>\n                    <tbody>\n                        {tableHeader}\n                        {this.renderTableData()}\n                    </tbody>\n                </table>\n            </div>\n        );\n    };\n    \n}\n\n// export default Categories;"]},"metadata":{},"sourceType":"module"}