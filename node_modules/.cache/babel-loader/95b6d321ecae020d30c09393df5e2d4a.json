{"ast":null,"code":"var _jsxFileName = \"/home/ankit/Projects/ReactJS/react_website/src/Categories.jsx\";\nimport React from 'react'; // import {ReactTable} from \"react-table\";\n\nimport Axios from 'axios';\nconst api_url = \"https://gorest.co.in/public-api/\";\nconst authBearer = \"Bearer 133acc5970437f9b6f89cd03b05cddfec5c719201c3614d682b24b7dcb6c9a19\";\nexport default class Categories extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      columns: [],\n      message: 'Loading...',\n      formdata: {\n        name: '',\n        description: ''\n      },\n      editid: 0,\n      addupdatebtnname: 'ADD'\n    };\n    this.fillDataFromAPI = this.fillDataFromAPI.bind(this);\n    this.renderTableData = this.renderTableData.bind(this);\n    this.deleteCategory = this.deleteCategory.bind(this);\n    this.addCategory = this.addCategory.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.editCategory = this.editCategory.bind(this);\n    this.cancelCategory = this.cancelCategory.bind(this);\n    this.fillDataFromAPI();\n  }\n\n  fillDataFromAPI() {\n    var classState = this;\n    Axios.get(api_url + \"categories\").then(function (res) {\n      debugger;\n\n      if (res.status === 200) {\n        classState.setState({\n          data: res.data.data\n        });\n      }\n    }).catch(function (res) {\n      console.log(res);\n    });\n  }\n\n  deleteCategory(e) {\n    debugger;\n    const classState = this;\n    const delteId = e.target.getAttribute(\"deleteid\");\n    Axios.delete(api_url + \"categories/\" + delteId, {\n      headers: {\n        'Authorization': authBearer\n      }\n    }).then(function (res) {\n      debugger;\n\n      if (res.data.code === 204) {\n        alert(\"Deleted Successfully.\");\n        classState.fillDataFromAPI();\n      } else {\n        alert(res.data.data.message);\n      }\n    }).catch(function (res) {\n      debugger;\n      console.log(res);\n    });\n  }\n\n  renderTableData() {\n    let data = /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }, \"Loading...\"));\n\n    if (this.state.data.length > 0) {\n      data = \"\";\n    }\n\n    data = this.state.data.map((cat, index) => {\n      const {\n        id,\n        name,\n        description,\n        status\n      } = cat; //destructuring\n\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 19\n        }\n      }, id), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 19\n        }\n      }, name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 19\n        }\n      }, description), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 19\n        }\n      }, status ? \"Active\" : \"Deactive\"), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"categoty-action-link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        deleteid: id,\n        onClick: this.deleteCategory,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 23\n        }\n      }, \"DELETE\"), \"\\xA0\\xA0-\\xA0\\xA0\", /*#__PURE__*/React.createElement(\"span\", {\n        name: name,\n        des: description,\n        editid: id,\n        onClick: this.editCategory,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 23\n        }\n      }, \"EDIT\")));\n    });\n    return data;\n  }\n\n  addCategory() {\n    debugger;\n    const classState = this;\n    let call = null;\n\n    if (classState.state.editid) {\n      call = Axios.put(api_url + \"categories/\" + classState.state.editid, {\n        \"name\": classState.state.formdata.name,\n        \"description\": classState.state.formdata.description,\n        \"status\": true\n      }, {\n        headers: {\n          'Authorization': authBearer\n        }\n      });\n    } else {\n      call = Axios.post(api_url + \"categories\", {\n        \"name\": classState.state.formdata.name,\n        \"description\": classState.state.formdata.description,\n        \"status\": true\n      }, {\n        headers: {\n          'Authorization': authBearer\n        }\n      });\n    }\n\n    if (call) {\n      call.then(function (res) {\n        debugger;\n\n        if (res.data.code === 201) {\n          classState.fillDataFromAPI();\n          alert(\"'\" + res.data.data.name + \"' Category Added Successfully.\");\n        } else if (res.data.code === 422) {\n          alert(res.data.data[0].field + \" \" + res.data.data[0].message);\n        } else if (res.data.code === 200) {\n          classState.fillDataFromAPI();\n          classState.cancelCategory();\n          alert(\"Updated Successfully.\");\n        }\n      }).catch(function (res) {\n        debugger;\n        console.log(res);\n      });\n    }\n  }\n\n  handleChange(e) {\n    const name = e.target.name;\n    const value = e.target.value;\n    let oldval = this.state.formdata;\n    oldval[name] = value;\n    this.setState({\n      formdata: oldval\n    });\n  }\n\n  editCategory(e) {\n    debugger;\n    const name = e.target.getAttribute(\"name\");\n    const desc = e.target.getAttribute(\"des\");\n    const editId = e.target.getAttribute(\"editid\");\n    this.setState({\n      editid: editId\n    });\n    this.setState({\n      formdata: {\n        name: name,\n        description: desc\n      }\n    });\n    this.setState({\n      addupdatebtnname: 'UPDATE'\n    });\n  }\n\n  cancelCategory(e) {\n    this.setState({\n      editid: 0\n    });\n    this.setState({\n      formdata: {\n        name: '',\n        description: ''\n      }\n    });\n    this.setState({\n      addupdatebtnname: 'ADD'\n    });\n  }\n\n  render() {\n    const tableHeader = /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 30\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 13\n      }\n    }, \"NAME\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }\n    }, \"DESCRIPTION\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 13\n      }\n    }, \"STATUS\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 13\n      }\n    }, \"ACTION\"));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      onClick: this.test,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }\n    }, \"Categories\"), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.formdata.name,\n      type: \"tetx\",\n      placeholder: \"Category Name\",\n      name: \"name\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 21\n      }\n    }), \"\\xA0\", /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.formdata.description,\n      style: {\n        width: '700px'\n      },\n      type: \"tetx\",\n      placeholder: \"Category Description\",\n      name: \"description\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 21\n      }\n    }), \"\\xA0\", /*#__PURE__*/React.createElement(\"span\", {\n      onClick: this.addCategory,\n      className: \"categoty-action-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 21\n      }\n    }, this.state.addupdatebtnname), \"\\xA0 - \\xA0\", /*#__PURE__*/React.createElement(\"span\", {\n      onClick: this.cancelCategory,\n      className: \"categoty-action-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 21\n      }\n    }, \"CANCEL\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"table\", {\n      border: \"1\",\n      id: \"cat\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 21\n      }\n    }, tableHeader, this.renderTableData())));\n  }\n\n} // export default Categories;","map":{"version":3,"sources":["/home/ankit/Projects/ReactJS/react_website/src/Categories.jsx"],"names":["React","Axios","api_url","authBearer","Categories","Component","constructor","props","state","data","columns","message","formdata","name","description","editid","addupdatebtnname","fillDataFromAPI","bind","renderTableData","deleteCategory","addCategory","handleChange","editCategory","cancelCategory","classState","get","then","res","status","setState","catch","console","log","e","delteId","target","getAttribute","delete","headers","code","alert","length","map","cat","index","id","call","put","post","field","value","oldval","desc","editId","render","tableHeader","test","width"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,MAAMC,OAAO,GAAG,kCAAhB;AACA,MAAMC,UAAU,GAAG,yEAAnB;AAEA,eAAe,MAAMC,UAAN,SAAyBJ,KAAK,CAACK,SAA/B,CAAwC;AAEnDC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAG,EADE;AAETC,MAAAA,OAAO,EAAG,EAFD;AAGTC,MAAAA,OAAO,EAAG,YAHD;AAITC,MAAAA,QAAQ,EAAG;AACPC,QAAAA,IAAI,EAAG,EADA;AAEPC,QAAAA,WAAW,EAAG;AAFP,OAJF;AAQTC,MAAAA,MAAM,EAAG,CARA;AASTC,MAAAA,gBAAgB,EAAG;AATV,KAAb;AAYA,SAAKC,eAAL,GAAuB,KAAKA,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAKC,eAAL,GAAuB,KAAKA,eAAL,CAAqBD,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAKE,cAAL,GAAsB,KAAKA,cAAL,CAAoBF,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKG,WAAL,GAAmB,KAAKA,WAAL,CAAiBH,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKI,YAAL,GAAoB,KAAKA,YAAL,CAAkBJ,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKK,YAAL,GAAoB,KAAKA,YAAL,CAAkBL,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKM,cAAL,GAAsB,KAAKA,cAAL,CAAoBN,IAApB,CAAyB,IAAzB,CAAtB;AAEA,SAAKD,eAAL;AACH;;AAEDA,EAAAA,eAAe,GAAE;AACb,QAAIQ,UAAU,GAAG,IAAjB;AACAxB,IAAAA,KAAK,CAACyB,GAAN,CAAUxB,OAAO,GAAC,YAAlB,EACCyB,IADD,CACM,UAASC,GAAT,EAAa;AACf;;AACA,UAAGA,GAAG,CAACC,MAAJ,KAAa,GAAhB,EAAoB;AAChBJ,QAAAA,UAAU,CAACK,QAAX,CAAoB;AAACrB,UAAAA,IAAI,EAAGmB,GAAG,CAACnB,IAAJ,CAASA;AAAjB,SAApB;AACH;AACJ,KAND,EAOCsB,KAPD,CAOO,UAASH,GAAT,EAAa;AAChBI,MAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ;AACH,KATD;AAUH;;AAEDR,EAAAA,cAAc,CAACc,CAAD,EAAG;AACb;AACA,UAAMT,UAAU,GAAG,IAAnB;AACA,UAAMU,OAAO,GAAGD,CAAC,CAACE,MAAF,CAASC,YAAT,CAAsB,UAAtB,CAAhB;AACApC,IAAAA,KAAK,CAACqC,MAAN,CAAapC,OAAO,GAAC,aAAR,GAAsBiC,OAAnC,EAA2C;AACvCI,MAAAA,OAAO,EAAE;AACL,yBAAiBpC;AADZ;AAD8B,KAA3C,EAKCwB,IALD,CAKM,UAASC,GAAT,EAAa;AACf;;AACA,UAAGA,GAAG,CAACnB,IAAJ,CAAS+B,IAAT,KAAgB,GAAnB,EAAuB;AACnBC,QAAAA,KAAK,CAAC,uBAAD,CAAL;AACAhB,QAAAA,UAAU,CAACR,eAAX;AACH,OAHD,MAGK;AACDwB,QAAAA,KAAK,CAACb,GAAG,CAACnB,IAAJ,CAASA,IAAT,CAAcE,OAAf,CAAL;AACH;AACJ,KAbD,EAcCoB,KAdD,CAcO,UAASH,GAAT,EAAa;AAChB;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ;AACH,KAjBD;AAkBH;;AAEDT,EAAAA,eAAe,GAAE;AACb,QAAIV,IAAI,gBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CAAZ;;AAGA,QAAG,KAAKD,KAAL,CAAWC,IAAX,CAAgBiC,MAAhB,GAAyB,CAA5B,EAA8B;AAC1BjC,MAAAA,IAAI,GAAG,EAAP;AACH;;AACDA,IAAAA,IAAI,GAAG,KAAKD,KAAL,CAAWC,IAAX,CAAgBkC,GAAhB,CAAoB,CAACC,GAAD,EAAMC,KAAN,KAAgB;AACvC,YAAM;AAAEC,QAAAA,EAAF;AAAMjC,QAAAA,IAAN;AAAYC,QAAAA,WAAZ;AAAyBe,QAAAA;AAAzB,UAAmCe,GAAzC,CADuC,CACM;;AAC7C,0BACG;AAAI,QAAA,GAAG,EAAEE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKA,EAAL,CADH,eAEG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKjC,IAAL,CAFH,eAGG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKC,WAAL,CAHH,eAIG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKe,MAAM,GAAG,QAAH,GAAc,UAAzB,CAJH,eAKG;AAAI,QAAA,SAAS,EAAC,sBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAM,QAAA,QAAQ,EAAEiB,EAAhB;AAAoB,QAAA,OAAO,EAAE,KAAK1B,cAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,oCAGI;AACA,QAAA,IAAI,EAAEP,IADN;AAEA,QAAA,GAAG,EAAEC,WAFL;AAGA,QAAA,MAAM,EAAEgC,EAHR;AAIA,QAAA,OAAO,EAAE,KAAKvB,YAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ,CALH,CADH;AAmBF,KArBK,CAAP;AAuBA,WAAOd,IAAP;AACH;;AAEDY,EAAAA,WAAW,GAAE;AACT;AACA,UAAMI,UAAU,GAAG,IAAnB;AACA,QAAIsB,IAAI,GAAG,IAAX;;AACA,QAAGtB,UAAU,CAACjB,KAAX,CAAiBO,MAApB,EAA2B;AACvBgC,MAAAA,IAAI,GAAG9C,KAAK,CAAC+C,GAAN,CAAU9C,OAAO,GAAC,aAAR,GAAsBuB,UAAU,CAACjB,KAAX,CAAiBO,MAAjD,EAAwD;AAC3D,gBAAQU,UAAU,CAACjB,KAAX,CAAiBI,QAAjB,CAA0BC,IADyB;AAE3D,uBAAeY,UAAU,CAACjB,KAAX,CAAiBI,QAAjB,CAA0BE,WAFkB;AAG3D,kBAAW;AAHgD,OAAxD,EAIL;AACEyB,QAAAA,OAAO,EAAE;AACL,2BAAiBpC;AADZ;AADX,OAJK,CAAP;AASH,KAVD,MAUK;AACD4C,MAAAA,IAAI,GAAG9C,KAAK,CAACgD,IAAN,CAAW/C,OAAO,GAAC,YAAnB,EAAgC;AACnC,gBAAQuB,UAAU,CAACjB,KAAX,CAAiBI,QAAjB,CAA0BC,IADC;AAEnC,uBAAeY,UAAU,CAACjB,KAAX,CAAiBI,QAAjB,CAA0BE,WAFN;AAGnC,kBAAW;AAHwB,OAAhC,EAIL;AACEyB,QAAAA,OAAO,EAAE;AACL,2BAAiBpC;AADZ;AADX,OAJK,CAAP;AASH;;AAED,QAAG4C,IAAH,EAAQ;AACJA,MAAAA,IAAI,CAACpB,IAAL,CAAU,UAASC,GAAT,EAAa;AACnB;;AACA,YAAGA,GAAG,CAACnB,IAAJ,CAAS+B,IAAT,KAAkB,GAArB,EAAyB;AACrBf,UAAAA,UAAU,CAACR,eAAX;AACAwB,UAAAA,KAAK,CAAC,MAAIb,GAAG,CAACnB,IAAJ,CAASA,IAAT,CAAcI,IAAlB,GAAuB,gCAAxB,CAAL;AACH,SAHD,MAGM,IAAGe,GAAG,CAACnB,IAAJ,CAAS+B,IAAT,KAAkB,GAArB,EAAyB;AAC3BC,UAAAA,KAAK,CAACb,GAAG,CAACnB,IAAJ,CAASA,IAAT,CAAc,CAAd,EAAiByC,KAAjB,GAAuB,GAAvB,GAA2BtB,GAAG,CAACnB,IAAJ,CAASA,IAAT,CAAc,CAAd,EAAiBE,OAA7C,CAAL;AACH,SAFK,MAEA,IAAIiB,GAAG,CAACnB,IAAJ,CAAS+B,IAAT,KAAgB,GAApB,EAAwB;AAC1Bf,UAAAA,UAAU,CAACR,eAAX;AACAQ,UAAAA,UAAU,CAACD,cAAX;AACAiB,UAAAA,KAAK,CAAC,uBAAD,CAAL;AACH;AACJ,OAZD,EAYGV,KAZH,CAYS,UAASH,GAAT,EAAa;AAClB;AACAI,QAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ;AACH,OAfD;AAgBH;AACJ;;AAEDN,EAAAA,YAAY,CAACY,CAAD,EAAG;AACX,UAAMrB,IAAI,GAAGqB,CAAC,CAACE,MAAF,CAASvB,IAAtB;AACA,UAAMsC,KAAK,GAAGjB,CAAC,CAACE,MAAF,CAASe,KAAvB;AACA,QAAIC,MAAM,GAAG,KAAK5C,KAAL,CAAWI,QAAxB;AACAwC,IAAAA,MAAM,CAACvC,IAAD,CAAN,GAAesC,KAAf;AACA,SAAKrB,QAAL,CAAc;AAAClB,MAAAA,QAAQ,EAAGwC;AAAZ,KAAd;AACH;;AAED7B,EAAAA,YAAY,CAACW,CAAD,EAAG;AACX;AACA,UAAMrB,IAAI,GAAGqB,CAAC,CAACE,MAAF,CAASC,YAAT,CAAsB,MAAtB,CAAb;AACA,UAAMgB,IAAI,GAAGnB,CAAC,CAACE,MAAF,CAASC,YAAT,CAAsB,KAAtB,CAAb;AACA,UAAMiB,MAAM,GAAGpB,CAAC,CAACE,MAAF,CAASC,YAAT,CAAsB,QAAtB,CAAf;AACA,SAAKP,QAAL,CAAc;AAACf,MAAAA,MAAM,EAAGuC;AAAV,KAAd;AACA,SAAKxB,QAAL,CAAc;AAAClB,MAAAA,QAAQ,EAAG;AACtBC,QAAAA,IAAI,EAAGA,IADe;AAEtBC,QAAAA,WAAW,EAAGuC;AAFQ;AAAZ,KAAd;AAIA,SAAKvB,QAAL,CAAc;AAACd,MAAAA,gBAAgB,EAAG;AAApB,KAAd;AACH;;AAEDQ,EAAAA,cAAc,CAACU,CAAD,EAAG;AACb,SAAKJ,QAAL,CAAc;AAACf,MAAAA,MAAM,EAAG;AAAV,KAAd;AACA,SAAKe,QAAL,CAAc;AAAClB,MAAAA,QAAQ,EAAG;AACtBC,QAAAA,IAAI,EAAG,EADe;AAEtBC,QAAAA,WAAW,EAAG;AAFQ;AAAZ,KAAd;AAIA,SAAKgB,QAAL,CAAc;AAACd,MAAAA,gBAAgB,EAAG;AAApB,KAAd;AACH;;AAEDuC,EAAAA,MAAM,GAAE;AAEJ,UAAMC,WAAW,gBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADiB,eAEjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFiB,eAGjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHiB,eAIjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJiB,eAKjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALiB,CAArB;AAUA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAI,MAAA,OAAO,EAAE,KAAKC,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AACA,MAAA,KAAK,EAAE,KAAKjD,KAAL,CAAWI,QAAX,CAAoBC,IAD3B;AAEA,MAAA,IAAI,EAAC,MAFL;AAEY,MAAA,WAAW,EAAC,eAFxB;AAGA,MAAA,IAAI,EAAC,MAHL;AAGY,MAAA,QAAQ,EAAE,KAAKS,YAH3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,uBAMI;AACA,MAAA,KAAK,EAAE,KAAKd,KAAL,CAAWI,QAAX,CAAoBE,WAD3B;AAEA,MAAA,KAAK,EAAE;AAAC4C,QAAAA,KAAK,EAAE;AAAR,OAFP;AAEyB,MAAA,IAAI,EAAC,MAF9B;AAEqC,MAAA,WAAW,EAAC,sBAFjD;AAGA,MAAA,IAAI,EAAC,aAHL;AAGmB,MAAA,QAAQ,EAAE,KAAKpC,YAHlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,uBAWI;AAAM,MAAA,OAAO,EAAE,KAAKD,WAApB;AAAiC,MAAA,SAAS,EAAC,sBAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmE,KAAKb,KAAL,CAAWQ,gBAA9E,CAXJ,8BAaI;AAAM,MAAA,OAAO,EAAE,KAAKQ,cAApB;AAAoC,MAAA,SAAS,EAAC,sBAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAbJ,CAFJ,eAiBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAjBJ,eAkBI;AAAO,MAAA,MAAM,EAAC,GAAd;AAAkB,MAAA,EAAE,EAAC,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKgC,WADL,EAEK,KAAKrC,eAAL,EAFL,CADJ,CAlBJ,CADJ;AA2BH;;AArNkD,C,CAyNvD","sourcesContent":["import React from 'react';\n// import {ReactTable} from \"react-table\";\nimport Axios from 'axios';\nconst api_url = \"https://gorest.co.in/public-api/\";\nconst authBearer = \"Bearer 133acc5970437f9b6f89cd03b05cddfec5c719201c3614d682b24b7dcb6c9a19\";\n\nexport default class Categories extends React.Component{\n\n    constructor(props){\n        super(props);\n        this.state = {\n            data : [],\n            columns : [],\n            message : 'Loading...',\n            formdata : {\n                name : '',\n                description : ''\n            },\n            editid : 0,\n            addupdatebtnname : 'ADD'\n        };\n\n        this.fillDataFromAPI = this.fillDataFromAPI.bind(this);\n        this.renderTableData = this.renderTableData.bind(this);\n        this.deleteCategory = this.deleteCategory.bind(this);\n        this.addCategory = this.addCategory.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.editCategory = this.editCategory.bind(this);\n        this.cancelCategory = this.cancelCategory.bind(this);\n\n        this.fillDataFromAPI();\n    };\n\n    fillDataFromAPI(){\n        var classState = this;\n        Axios.get(api_url+\"categories\")\n        .then(function(res){\n            debugger;\n            if(res.status===200){\n                classState.setState({data : res.data.data});\n            }\n        })\n        .catch(function(res){\n            console.log(res);\n        });\n    }\n\n    deleteCategory(e){\n        debugger;\n        const classState = this;\n        const delteId = e.target.getAttribute(\"deleteid\");\n        Axios.delete(api_url+\"categories/\"+delteId,{\n            headers: {\n                'Authorization': authBearer\n            }\n        })\n        .then(function(res){\n            debugger;\n            if(res.data.code===204){\n                alert(\"Deleted Successfully.\");\n                classState.fillDataFromAPI();            \n            }else{\n                alert(res.data.data.message);\n            }\n        })\n        .catch(function(res){\n            debugger;\n            console.log(res);\n        });\n    };\n\n    renderTableData(){\n        let data = (<tr>\n                        <td>Loading...</td>\n                    </tr>);\n        if(this.state.data.length > 0){\n            data = \"\";\n        }            \n        data = this.state.data.map((cat, index) => {\n            const { id, name, description, status} = cat //destructuring\n            return (\n               <tr key={id}>\n                  <td>{id}</td>\n                  <td>{name}</td>\n                  <td>{description}</td>\n                  <td>{status ? \"Active\" : \"Deactive\"}</td>\n                  <td className=\"categoty-action-link\">\n                      <span deleteid={id} onClick={this.deleteCategory}>DELETE</span>\n                      &nbsp;&nbsp;-&nbsp;&nbsp;\n                      <span \n                      name={name}\n                      des={description}\n                      editid={id}\n                      onClick={this.editCategory}>\n                          EDIT\n                        </span>\n                    </td>\n               </tr>\n            )\n         });\n\n        return data;\n    }\n\n    addCategory(){\n        debugger;\n        const classState = this;\n        let call = null;\n        if(classState.state.editid){\n            call = Axios.put(api_url+\"categories/\"+classState.state.editid,{\n                \"name\": classState.state.formdata.name,\n                \"description\": classState.state.formdata.description,\n                \"status\" : true\n            },{\n                headers: {\n                    'Authorization': authBearer\n                }\n            });\n        }else{\n            call = Axios.post(api_url+\"categories\",{\n                \"name\": classState.state.formdata.name,\n                \"description\": classState.state.formdata.description,\n                \"status\" : true\n            },{\n                headers: {\n                    'Authorization': authBearer\n                }\n            });\n        }\n\n        if(call){\n            call.then(function(res){\n                debugger;\n                if(res.data.code === 201){\n                    classState.fillDataFromAPI();\n                    alert(\"'\"+res.data.data.name+\"' Category Added Successfully.\");\n                }else if(res.data.code === 422){\n                    alert(res.data.data[0].field+\" \"+res.data.data[0].message);\n                }else if (res.data.code===200){\n                    classState.fillDataFromAPI();\n                    classState.cancelCategory();\n                    alert(\"Updated Successfully.\");\n                }\n            }).catch(function(res){\n                debugger;\n                console.log(res);\n            });\n        }\n    }\n\n    handleChange(e){\n        const name = e.target.name;\n        const value = e.target.value;\n        let oldval = this.state.formdata;\n        oldval[name] = value;\n        this.setState({formdata : oldval});\n    }\n\n    editCategory(e){\n        debugger;\n        const name = e.target.getAttribute(\"name\");\n        const desc = e.target.getAttribute(\"des\");\n        const editId = e.target.getAttribute(\"editid\");\n        this.setState({editid : editId});\n        this.setState({formdata : {\n            name : name,\n            description : desc\n        }});\n        this.setState({addupdatebtnname : 'UPDATE'});\n    }\n\n    cancelCategory(e){\n        this.setState({editid : 0});\n        this.setState({formdata : {\n            name : '',\n            description : ''\n        }});\n        this.setState({addupdatebtnname : 'ADD'});\n    }\n\n    render(){\n        \n        const tableHeader = (<tr>\n            <th>ID</th>\n            <th>NAME</th>\n            <th>DESCRIPTION</th>\n            <th>STATUS</th>\n            <th>ACTION</th>\n        </tr>);\n        \n        \n          \n        return(\n            <div>\n                <h1 onClick={this.test}>Categories</h1>\n                <form>\n                    <input \n                    value={this.state.formdata.name}\n                    type=\"tetx\" placeholder=\"Category Name\"\n                    name=\"name\" onChange={this.handleChange} />\n                    &nbsp;\n                    <input \n                    value={this.state.formdata.description}\n                    style={{width: '700px'}} type=\"tetx\" placeholder=\"Category Description\" \n                    name=\"description\" onChange={this.handleChange} />\n                    &nbsp;\n                    <span onClick={this.addCategory} className=\"categoty-action-link\">{this.state.addupdatebtnname}</span>\n                    &nbsp; - &nbsp;\n                    <span onClick={this.cancelCategory} className=\"categoty-action-link\">CANCEL</span>\n                </form>\n                <br/>\n                <table border=\"1\" id='cat'>\n                    <tbody>\n                        {tableHeader}\n                        {this.renderTableData()}\n                    </tbody>\n                </table>\n            </div>\n        );\n    };\n    \n}\n\n// export default Categories;"]},"metadata":{},"sourceType":"module"}