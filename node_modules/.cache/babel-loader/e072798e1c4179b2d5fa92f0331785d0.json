{"ast":null,"code":"var _jsxFileName = \"/home/ankit/Projects/ReactJS/react_website/src/Categories.jsx\";\nimport React, { Component } from 'react';\nimport { ReactTable } from \"react-table\";\nimport Axios from 'axios';\nconst api_url = \"https://gorest.co.in/public-api/\";\nconst authBearer = \"Bearer 133acc5970437f9b6f89cd03b05cddfec5c719201c3614d682b24b7dcb6c9a19\";\nexport default class Categories extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      columns: [],\n      message: 'Loading...'\n    };\n    this.fillDataFromAPI = this.fillDataFromAPI.bind(this);\n    this.renderTableData = this.renderTableData.bind(this);\n    this.fillDataFromAPI();\n  }\n\n  fillDataFromAPI() {\n    var classState = this;\n    Axios.get(api_url + \"categories\").then(function (res) {\n      debugger;\n\n      if (res.status == 200) {\n        classState.setState({\n          data: res.data.data\n        });\n      }\n    }).catch(function (res) {\n      console.log(res);\n    });\n  } // function test(){\n  //     console.log(\"TEST\");\n  // }\n\n\n  deleteCategory(e) {\n    debugger;\n    const delteId = e.target.getAttribute(\"deleteid\");\n    Axios.delete(api_url + \"categories/\" + delteId, {\n      headers: {\n        'Authorization': authBearer\n      }\n    }).then(function (res) {\n      debugger;\n\n      if (res.data.code == 204) {\n        alert(\"Deleted Successfully.\");\n        renderTableData();\n      } else {\n        alert(res.data.data.message);\n      }\n    }).catch(function (res) {\n      debugger;\n      console.log(res);\n    });\n  }\n\n  renderTableData() {\n    let data = /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }\n    }, \"Loading...\"));\n\n    if (this.state.data.length > 0) {\n      data = \"\";\n    }\n\n    data = this.state.data.map((cat, index) => {\n      const {\n        id,\n        name,\n        description,\n        status\n      } = cat; //destructuring\n\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 19\n        }\n      }, id), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 19\n        }\n      }, name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 19\n        }\n      }, description), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 19\n        }\n      }, status ? \"Active\" : \"Deactive\"), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"categoty-action-link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        deleteid: id,\n        onClick: this.deleteCategory,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 23\n        }\n      }, \"DELETE\"), /*#__PURE__*/React.createElement(\"span\", {\n        onClick: this.addCategory,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 23\n        }\n      }, \"ADD\")));\n    });\n    return data;\n  }\n\n  addCategory() {\n    debugger;\n    Axios.post(api_url + \"categories\", {\n      \"name\": \"NameCat\",\n      \"description\": \"This is My cat\",\n      \"status\": true\n    }, {\n      headers: {\n        'Authorization': authBearer\n      }\n    }).then(function (res) {\n      debugger;\n\n      if (res.data.code == 201) {\n        alert(\"'\" + res.data.name + \"' Category Added Successfully.\");\n      } else if (res.data.code == 422) {\n        alert(res.data.data[0].field + \" \" + res.data.data[0].message);\n      }\n    }).catch(function (res) {\n      debugger;\n      console.log(res);\n    });\n  }\n\n  render() {\n    const data = [{\n      age: 26,\n      visits: 100\n    }, {\n      age: 44,\n      visits: 200\n    }];\n    const tableHeader = /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 30\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }\n    }, \"NAME\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }\n    }, \"DESCRIPTION\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }, \"STATUS\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }, \"ACTION\"));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      onClick: this.test,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }, \"Categories\"), /*#__PURE__*/React.createElement(\"table\", {\n      border: \"1\",\n      id: \"cat\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    }, tableHeader, this.renderTableData())));\n  }\n\n} // export default Categories;","map":{"version":3,"sources":["/home/ankit/Projects/ReactJS/react_website/src/Categories.jsx"],"names":["React","Component","ReactTable","Axios","api_url","authBearer","Categories","constructor","props","state","data","columns","message","fillDataFromAPI","bind","renderTableData","classState","get","then","res","status","setState","catch","console","log","deleteCategory","e","delteId","target","getAttribute","delete","headers","code","alert","length","map","cat","index","id","name","description","addCategory","post","field","render","age","visits","tableHeader","test"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {ReactTable} from \"react-table\";\n\nimport Axios from 'axios';\nconst api_url = \"https://gorest.co.in/public-api/\";\nconst authBearer = \"Bearer 133acc5970437f9b6f89cd03b05cddfec5c719201c3614d682b24b7dcb6c9a19\";\n\nexport default class Categories extends React.Component{\n\n    constructor(props){\n        super(props);\n        this.state = {\n            data : [],\n            columns : [],\n            message : 'Loading...'\n        };\n\n        this.fillDataFromAPI = this.fillDataFromAPI.bind(this);\n        this.renderTableData = this.renderTableData.bind(this);\n\n        this.fillDataFromAPI();\n    };\n\n    fillDataFromAPI(){\n        var classState = this;\n        Axios.get(api_url+\"categories\")\n        .then(function(res){\n            debugger;\n            if(res.status==200){\n                classState.setState({data : res.data.data});\n            }\n        })\n        .catch(function(res){\n            console.log(res);\n        });\n    }\n\n    // function test(){\n    //     console.log(\"TEST\");\n    // }\n\n    deleteCategory(e){\n        debugger;\n        const delteId = e.target.getAttribute(\"deleteid\");\n        Axios.delete(api_url+\"categories/\"+delteId,{\n            headers: {\n                'Authorization': authBearer\n            }\n        })\n        .then(function(res){\n            debugger;\n            if(res.data.code==204){\n                alert(\"Deleted Successfully.\");\n                renderTableData();            \n            }else{\n                alert(res.data.data.message);\n            }\n        })\n        .catch(function(res){\n            debugger;\n            console.log(res);\n        });\n    };\n\n    \n\n    renderTableData(){\n        let data = (<tr>\n                        <td>Loading...</td>\n                    </tr>);\n        if(this.state.data.length > 0){\n            data = \"\";\n        }            \n        data = this.state.data.map((cat, index) => {\n            const { id, name, description, status} = cat //destructuring\n            return (\n               <tr key={id}>\n                  <td>{id}</td>\n                  <td>{name}</td>\n                  <td>{description}</td>\n                  <td>{status ? \"Active\" : \"Deactive\"}</td>\n                  <td className=\"categoty-action-link\">\n                      <span deleteid={id} onClick={this.deleteCategory}>DELETE</span>\n                      <span onClick={this.addCategory}>ADD</span>\n                    </td>\n               </tr>\n            )\n         });\n\n        return data;\n    }\n\n    addCategory(){\n        debugger;\n        Axios.post(api_url+\"categories\",{\n            \"name\": \"NameCat\",\n            \"description\": \"This is My cat\",\n            \"status\" : true\n        },{\n            headers: {\n                'Authorization': authBearer\n            }\n        }).then(function(res){\n            debugger;\n            if(res.data.code == 201){\n                alert(\"'\"+res.data.name+\"' Category Added Successfully.\");\n            }else if(res.data.code == 422){\n                alert(res.data.data[0].field+\" \"+res.data.data[0].message);\n            }\n        }).catch(function(res){\n            debugger;\n            console.log(res);\n        });\n    }\n\n    render(){\n        const data = [{\n            age: 26,\n            visits: 100\n          },{\n            age: 44,\n            visits: 200\n          }]\n\n        \n        const tableHeader = (<tr>\n            <th>ID</th>\n            <th>NAME</th>\n            <th>DESCRIPTION</th>\n            <th>STATUS</th>\n            <th>ACTION</th>\n        </tr>);\n        \n        \n          \n        return(\n            <div>\n                \n                <h1 onClick={this.test}>Categories</h1>\n\n                <table border=\"1\" id='cat'>\n                    <tbody>\n                        {tableHeader}\n                        {this.renderTableData()}\n                    </tbody>\n                </table>\n            </div>\n        );\n    };\n    \n}\n\n// export default Categories;"]},"metadata":{},"sourceType":"module"}