{"ast":null,"code":"var _jsxFileName = \"/home/ankit/Projects/ReactJS/react_website/src/Twitterlogin.js\";\nimport React, { Component } from 'react';\nimport TwitterLogin from 'react-twitter-auth';\n\nclass TwitterBtn extends Component {\n  constructor() {\n    super();\n\n    this.onSuccess = response => {\n      const token = response.headers.get('x-auth-token');\n      response.json().then(user => {\n        if (token) {\n          this.setState({\n            isAuthenticated: true,\n            user: user,\n            token: token\n          });\n        }\n      });\n    };\n\n    this.onFailed = error => {\n      alert(error);\n    };\n\n    this.logout = () => {\n      this.setState({\n        isAuthenticated: false,\n        token: '',\n        user: null\n      });\n    };\n\n    this.state = {\n      isAuthenticated: false,\n      user: null,\n      token: ''\n    };\n  }\n\n  render() {\n    let content = !!this.state.isAuthenticated ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 15\n      }\n    }, \"Authenticated\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 15\n      }\n    }, this.state.user.email), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.logout,\n      className: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }\n    }, \"Log out\"))) : /*#__PURE__*/React.createElement(TwitterLogin, {\n      loginUrl: \"http://localhost:3000/api/v1/auth/twitter\",\n      onFailure: this.onFailed,\n      onSuccess: this.onSuccess,\n      requestTokenUrl: \"http://localhost:3000/api/v1/auth/twitter/reverse\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }, content);\n  }\n\n}\n\nexport default TwitterBtn;","map":{"version":3,"sources":["/home/ankit/Projects/ReactJS/react_website/src/Twitterlogin.js"],"names":["React","Component","TwitterLogin","TwitterBtn","constructor","onSuccess","response","token","headers","get","json","then","user","setState","isAuthenticated","onFailed","error","alert","logout","state","render","content","email"],"mappings":";AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,YAAP,MAAyB,oBAAzB;;AAEA,MAAMC,UAAN,SAAyBF,SAAzB,CAAmC;AAC/BG,EAAAA,WAAW,GAAG;AACV;;AADU,SAMdC,SANc,GAMDC,QAAD,IAAc;AACtB,YAAMC,KAAK,GAAGD,QAAQ,CAACE,OAAT,CAAiBC,GAAjB,CAAqB,cAArB,CAAd;AACAH,MAAAA,QAAQ,CAACI,IAAT,GAAgBC,IAAhB,CAAqBC,IAAI,IAAI;AAC3B,YAAIL,KAAJ,EAAW;AACT,eAAKM,QAAL,CAAc;AAACC,YAAAA,eAAe,EAAE,IAAlB;AAAwBF,YAAAA,IAAI,EAAEA,IAA9B;AAAoCL,YAAAA,KAAK,EAAEA;AAA3C,WAAd;AACD;AACF,OAJD;AAKD,KAbW;;AAAA,SAeZQ,QAfY,GAeAC,KAAD,IAAW;AACpBC,MAAAA,KAAK,CAACD,KAAD,CAAL;AACD,KAjBW;;AAAA,SAmBZE,MAnBY,GAmBH,MAAM;AACb,WAAKL,QAAL,CAAc;AAACC,QAAAA,eAAe,EAAE,KAAlB;AAAyBP,QAAAA,KAAK,EAAE,EAAhC;AAAoCK,QAAAA,IAAI,EAAE;AAA1C,OAAd;AACD,KArBW;;AAGV,SAAKO,KAAL,GAAa;AAAEL,MAAAA,eAAe,EAAE,KAAnB;AAA0BF,MAAAA,IAAI,EAAE,IAAhC;AAAsCL,MAAAA,KAAK,EAAE;AAA7C,KAAb;AACH;;AAmBCa,EAAAA,MAAM,GAAG;AACP,QAAIC,OAAO,GAAG,CAAC,CAAC,KAAKF,KAAL,CAAWL,eAAb,gBAEV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKK,KAAL,CAAWP,IAAX,CAAgBU,KADnB,CAFF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAQ,MAAA,OAAO,EAAE,KAAKJ,MAAtB;AAA8B,MAAA,SAAS,EAAC,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CALF,CAFU,gBAeV,oBAAC,YAAD;AAAc,MAAA,QAAQ,EAAC,2CAAvB;AACc,MAAA,SAAS,EAAE,KAAKH,QAD9B;AACwC,MAAA,SAAS,EAAE,KAAKV,SADxD;AAEc,MAAA,eAAe,EAAC,mDAF9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAfJ;AAoBA,wBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGgB,OADH,CADF;AAKH;;AAlD8B;;AAsDnC,eAAelB,UAAf","sourcesContent":["\nimport React, { Component } from 'react'\nimport TwitterLogin from 'react-twitter-auth';\n\nclass TwitterBtn extends Component {\n    constructor() {\n        super();\n\n        this.state = { isAuthenticated: false, user: null, token: ''};\n    }\n\n    onSuccess = (response) => {\n        const token = response.headers.get('x-auth-token');\n        response.json().then(user => {\n          if (token) {\n            this.setState({isAuthenticated: true, user: user, token: token});\n          }\n        });\n      };\n      \n      onFailed = (error) => {\n        alert(error);\n      };\n\n      logout = () => {\n        this.setState({isAuthenticated: false, token: '', user: null})\n      };\n      \n      render() {\n        let content = !!this.state.isAuthenticated ?\n          (\n            <div>\n              <p>Authenticated</p>\n              <div>\n                {this.state.user.email}\n              </div>\n              <div>\n                <button onClick={this.logout} className=\"button\" >\n                  Log out\n                </button>\n              </div>\n            </div>\n          ) :\n          (\n            <TwitterLogin loginUrl=\"http://localhost:3000/api/v1/auth/twitter\"\n                          onFailure={this.onFailed} onSuccess={this.onSuccess}\n                          requestTokenUrl=\"http://localhost:3000/api/v1/auth/twitter/reverse\"/>\n          );\n      \n        return (\n          <div className=\"App\">\n            {content}\n          </div>\n        );\n    }\n}\n\n\nexport default TwitterBtn;"]},"metadata":{},"sourceType":"module"}